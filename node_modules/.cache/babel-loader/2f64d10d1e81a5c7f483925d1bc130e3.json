{"ast":null,"code":"import _objectSpread from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/RegisterForm/RegisterForm.js\";\nimport React, { useState } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox, notification } from \"antd\";\nimport { emailValidation, minLengthValidation } from \"../../../utils/formValidation\";\nimport { signUpApi } from \"../../../api/user\";\nimport \"./RegisterForm.scss\";\nexport default function RegisterForm() {\n  const _useState = useState({\n    email: \"\",\n    password: \"\",\n    repeatPassword: \"\",\n    privacyPolicy: false\n  }),\n        _useState2 = _slicedToArray(_useState, 2),\n        inputs = _useState2[0],\n        setInputs = _useState2[1];\n\n  const _useState3 = useState({\n    email: false,\n    password: false,\n    repeatPassword: false,\n    privacyPolicy: false\n  }),\n        _useState4 = _slicedToArray(_useState3, 2),\n        formValid = _useState4[0],\n        setFormValid = _useState4[1];\n\n  const changeForm = e => {\n    if (e.target.name === \"privacyPolicy\") {\n      setInputs(_objectSpread({}, inputs, {\n        [e.target.name]: e.target.checked\n      }));\n    } else {\n      setInputs(_objectSpread({}, inputs, {\n        [e.target.name]: e.target.value\n      }));\n    }\n  };\n\n  const inputValidation = e => {\n    const _e$target = e.target,\n          type = _e$target.type,\n          name = _e$target.name;\n\n    if (type === \"email\") {\n      setFormValid(_objectSpread({}, formValid, {\n        [name]: emailValidation(e.target)\n      }));\n    }\n\n    if (type === \"password\") {\n      setFormValid(_objectSpread({}, formValid, {\n        [name]: minLengthValidation(e.target, 6)\n      }));\n    }\n\n    if (type === \"checkbox\") {\n      setFormValid(_objectSpread({}, formValid, {\n        [name]: e.target.checked\n      }));\n    }\n  };\n\n  const register = async e => {\n    e.preventDefault();\n    const emailVal = inputs.email;\n    const passwordVal = inputs.password;\n    const repeatPasswordVal = inputs.repeatPassword;\n    const privacyPolicyVal = inputs.privacyPolicy;\n\n    if (!emailVal || !passwordVal || !repeatPasswordVal || !privacyPolicyVal) {\n      notification[\"error\"]({\n        message: \"Todos los campos son obligatorios\"\n      });\n    } else {\n      if (passwordVal !== repeatPasswordVal) {\n        notification[\"error\"]({\n          message: \"Las contraseñas tienen que ser iguales.\"\n        });\n      } else {\n        const result = await signUpApi(inputs);\n\n        if (!result.ok) {\n          notification[\"error\"]({\n            message: result.message\n          });\n        } else {\n          notification[\"success\"]({\n            message: result.message\n          });\n          resetForm();\n        }\n      }\n    }\n  };\n\n  const resetForm = () => {\n    const inputs = document.getElementsByTagName(\"input\");\n\n    for (let i = 0; i < inputs.length; i++) {\n      inputs[i].classList.remove(\"success\");\n      inputs[i].classList.remove(\"error\");\n    }\n\n    setInputs({\n      email: \"\",\n      password: \"\",\n      repeatPassword: \"\",\n      privacyPolicy: false\n    });\n    setFormValid({\n      email: false,\n      password: false,\n      repeatPassword: false,\n      privacyPolicy: false\n    });\n  };\n\n  return React.createElement(Form, {\n    className: \"register-form\",\n    onSubmit: register,\n    onChange: changeForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"user\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }),\n    type: \"email\",\n    name: \"email\",\n    placeholder: \"Correo electronico\",\n    className: \"register-form__input\",\n    onChange: inputValidation,\n    value: inputs.email,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"lock\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }),\n    type: \"password\",\n    name: \"password\",\n    placeholder: \"Contrase\\xF1a\",\n    className: \"register-form__input\",\n    onChange: inputValidation,\n    value: inputs.password,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"lock\",\n      style: {\n        color: \"rgba(0,0,0,.25)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }),\n    type: \"password\",\n    name: \"repeatPassword\",\n    placeholder: \"Repetir contrase\\xF1a\",\n    className: \"register-form__input\",\n    onChange: inputValidation,\n    value: inputs.repeatPassword,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(Checkbox, {\n    name: \"privacyPolicy\",\n    onChange: inputValidation,\n    checked: inputs.privacyPolicy,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, \"He le\\xEDdo y acepto la pol\\xEDtica de privacidad.\")), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  }, React.createElement(Button, {\n    htmlType: \"submit\",\n    className: \"register-form__button\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 154\n    },\n    __self: this\n  }, \"Crear cuenta\")));\n}","map":{"version":3,"sources":["/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/RegisterForm/RegisterForm.js"],"names":["React","useState","Form","Icon","Input","Button","Checkbox","notification","emailValidation","minLengthValidation","signUpApi","RegisterForm","email","password","repeatPassword","privacyPolicy","inputs","setInputs","formValid","setFormValid","changeForm","e","target","name","checked","value","inputValidation","type","register","preventDefault","emailVal","passwordVal","repeatPasswordVal","privacyPolicyVal","message","result","ok","resetForm","document","getElementsByTagName","i","length","classList","remove","color"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Form, Icon, Input, Button, Checkbox, notification } from \"antd\";\nimport {\n  emailValidation,\n  minLengthValidation\n} from \"../../../utils/formValidation\";\nimport { signUpApi } from \"../../../api/user\";\n\nimport \"./RegisterForm.scss\";\n\nexport default function RegisterForm() {\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    password: \"\",\n    repeatPassword: \"\",\n    privacyPolicy: false\n  });\n  const [formValid, setFormValid] = useState({\n    email: false,\n    password: false,\n    repeatPassword: false,\n    privacyPolicy: false\n  });\n\n  const changeForm = e => {\n    if (e.target.name === \"privacyPolicy\") {\n      setInputs({\n        ...inputs,\n        [e.target.name]: e.target.checked\n      });\n    } else {\n      setInputs({\n        ...inputs,\n        [e.target.name]: e.target.value\n      });\n    }\n  };\n\n  const inputValidation = e => {\n    const { type, name } = e.target;\n\n    if (type === \"email\") {\n      setFormValid({ ...formValid, [name]: emailValidation(e.target) });\n    }\n    if (type === \"password\") {\n      setFormValid({ ...formValid, [name]: minLengthValidation(e.target, 6) });\n    }\n    if (type === \"checkbox\") {\n      setFormValid({ ...formValid, [name]: e.target.checked });\n    }\n  };\n\n  const register = async e => {\n    e.preventDefault();\n\n    const emailVal = inputs.email;\n    const passwordVal = inputs.password;\n    const repeatPasswordVal = inputs.repeatPassword;\n    const privacyPolicyVal = inputs.privacyPolicy;\n\n    if (!emailVal || !passwordVal || !repeatPasswordVal || !privacyPolicyVal) {\n      notification[\"error\"]({\n        message: \"Todos los campos son obligatorios\"\n      });\n    } else {\n      if (passwordVal !== repeatPasswordVal) {\n        notification[\"error\"]({\n          message: \"Las contraseñas tienen que ser iguales.\"\n        });\n      } else {\n        const result = await signUpApi(inputs);\n        if (!result.ok) {\n          notification[\"error\"]({\n            message: result.message\n          });\n        } else {\n          notification[\"success\"]({\n            message: result.message\n          });\n          resetForm();\n        }\n      }\n    }\n  };\n\n  const resetForm = () => {\n    const inputs = document.getElementsByTagName(\"input\");\n\n    for (let i = 0; i < inputs.length; i++) {\n      inputs[i].classList.remove(\"success\");\n      inputs[i].classList.remove(\"error\");\n    }\n\n    setInputs({\n      email: \"\",\n      password: \"\",\n      repeatPassword: \"\",\n      privacyPolicy: false\n    });\n\n    setFormValid({\n      email: false,\n      password: false,\n      repeatPassword: false,\n      privacyPolicy: false\n    });\n  };\n\n  return (\n    <Form className=\"register-form\" onSubmit={register} onChange={changeForm}>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"user\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n          type=\"email\"\n          name=\"email\"\n          placeholder=\"Correo electronico\"\n          className=\"register-form__input\"\n          onChange={inputValidation}\n          value={inputs.email}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n          type=\"password\"\n          name=\"password\"\n          placeholder=\"Contraseña\"\n          className=\"register-form__input\"\n          onChange={inputValidation}\n          value={inputs.password}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"lock\" style={{ color: \"rgba(0,0,0,.25)\" }} />}\n          type=\"password\"\n          name=\"repeatPassword\"\n          placeholder=\"Repetir contraseña\"\n          className=\"register-form__input\"\n          onChange={inputValidation}\n          value={inputs.repeatPassword}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Checkbox\n          name=\"privacyPolicy\"\n          onChange={inputValidation}\n          checked={inputs.privacyPolicy}\n        >\n          He leído y acepto la política de privacidad.\n        </Checkbox>\n      </Form.Item>\n      <Form.Item>\n        <Button htmlType=\"submit\" className=\"register-form__button\">\n          Crear cuenta\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}