{"ast":null,"code":"import _slicedToArray from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Web/Courses/CoursesList/CoursesList.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Row, Col, Card, Button, Rate, notification } from \"antd\";\nimport { getCourseDataUdemyApi } from \"../../../../api/course\";\nimport \"./CoursesList.scss\";\nexport default function CoursesList(props) {\n  const courses = props.courses;\n  return React.createElement(\"div\", {\n    className: \"courses-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 11\n    },\n    __self: this\n  }, React.createElement(Row, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 12\n    },\n    __self: this\n  }, courses.map(course => React.createElement(Col, {\n    key: course._id,\n    md: 8,\n    className: \"courses-list__course\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 14\n    },\n    __self: this\n  }, React.createElement(Course, {\n    course: course,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 15\n    },\n    __self: this\n  })))));\n}\n\nfunction Course(props) {\n  const course = props.course;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        courseInfo = _useState2[0],\n        setCourseInfo = _useState2[1];\n\n  const _useState3 = useState(\"\"),\n        _useState4 = _slicedToArray(_useState3, 2),\n        urlCourse = _useState4[0],\n        setUrlCourse = _useState4[1];\n\n  const Meta = Card.Meta;\n  useEffect(() => {\n    getCourseDataUdemyApi(course.idCourse).then(response => {\n      if ((response === null || response === void 0 ? void 0 : response.code) !== 200) {\n        notification[\"warning\"]({\n          message: response.message\n        });\n      } else {\n        setCourseInfo(response.data);\n        mountUrl(response.data.url);\n      }\n    }).catch(() => {\n      notification[\"error\"]({\n        message: \"Error del servidor, inténtelo más tarde.\"\n      });\n    }); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [course]);\n\n  const mountUrl = url => {\n    if (!course.link) {\n      const baseUrl = `https://www.udemy.com${url}`;\n      const finalUrl = baseUrl + (course.coupon ? `?couponCode=${course.coupon}` : \"\");\n      setUrlCourse(finalUrl);\n    } else {\n      setUrlCourse(course.link);\n    }\n  };\n\n  return React.createElement(\"a\", {\n    href: urlCourse,\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, React.createElement(Card, {\n    cover: React.createElement(\"img\", {\n      src: courseInfo.image_480x270,\n      alt: courseInfo.title,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63\n      },\n      __self: this\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62\n    },\n    __self: this\n  }, React.createElement(Meta, {\n    title: courseInfo.title,\n    description: courseInfo.headline,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    },\n    __self: this\n  }), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, \"Entrar en el curso\"), React.createElement(\"div\", {\n    className: \"courses-list__course-footer\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, course.price ? `${course.price} €` : courseInfo.price), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, React.createElement(Rate, {\n    disabled: true,\n    defaultValue: 5,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  })))));\n}","map":{"version":3,"sources":["/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Web/Courses/CoursesList/CoursesList.js"],"names":["React","useState","useEffect","Row","Col","Card","Button","Rate","notification","getCourseDataUdemyApi","CoursesList","props","courses","map","course","_id","Course","courseInfo","setCourseInfo","urlCourse","setUrlCourse","Meta","idCourse","then","response","code","message","data","mountUrl","url","catch","link","baseUrl","finalUrl","coupon","image_480x270","title","headline","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Row, Col, Card, Button, Rate, notification } from \"antd\";\nimport { getCourseDataUdemyApi } from \"../../../../api/course\";\n\nimport \"./CoursesList.scss\";\n\nexport default function CoursesList(props) {\n  const { courses } = props;\n\n  return (\n    <div className=\"courses-list\">\n      <Row>\n        {courses.map(course => (\n          <Col key={course._id} md={8} className=\"courses-list__course\">\n            <Course course={course} />\n          </Col>\n        ))}\n      </Row>\n    </div>\n  );\n}\n\nfunction Course(props) {\n  const { course } = props;\n  const [courseInfo, setCourseInfo] = useState({});\n  const [urlCourse, setUrlCourse] = useState(\"\");\n  const { Meta } = Card;\n\n  useEffect(() => {\n    getCourseDataUdemyApi(course.idCourse)\n      .then(response => {\n        if (response?.code !== 200) {\n          notification[\"warning\"]({\n            message: response.message\n          });\n        } else {\n          setCourseInfo(response.data);\n          mountUrl(response.data.url);\n        }\n      })\n      .catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, inténtelo más tarde.\"\n        });\n      });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [course]);\n\n  const mountUrl = url => {\n    if (!course.link) {\n      const baseUrl = `https://www.udemy.com${url}`;\n      const finalUrl =\n        baseUrl + (course.coupon ? `?couponCode=${course.coupon}` : \"\");\n      setUrlCourse(finalUrl);\n    } else {\n      setUrlCourse(course.link);\n    }\n  };\n\n  return (\n    <a href={urlCourse} target=\"_blank\" rel=\"noopener noreferrer\">\n      <Card\n        cover={<img src={courseInfo.image_480x270} alt={courseInfo.title} />}\n      >\n        <Meta title={courseInfo.title} description={courseInfo.headline} />\n        <Button>Entrar en el curso</Button>\n        <div className=\"courses-list__course-footer\">\n          <span>{course.price ? `${course.price} €` : courseInfo.price}</span>\n          <div>\n            <Rate disabled defaultValue={5} />\n          </div>\n        </div>\n      </Card>\n    </a>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}