{"ast":null,"code":"import _objectSpread from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/Courses/AddEditCourseForm/AddEditCourseForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Icon, Input, Button, notification } from \"antd\";\nimport { getAccessTokenApi } from \"../../../../api/auth\";\nimport { addCourseApi, updateCourseApi } from \"../../../../api/course\";\nimport \"./AddEditCourseForm.scss\";\nexport default function AddEditCourseForm(props) {\n  const setIsVisibleModal = props.setIsVisibleModal,\n        setReloadCourses = props.setReloadCourses,\n        course = props.course;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        courseData = _useState2[0],\n        setCourseData = _useState2[1];\n\n  useEffect(() => {\n    course ? setCourseData(course) : setCourseData({});\n  }, [course]);\n\n  const addCourse = e => {\n    e.preventDefault();\n\n    if (!courseData.idCourse) {\n      notification[\"error\"]({\n        message: \"El id del curso es obligatorio\"\n      });\n    } else {\n      const accessToken = getAccessTokenApi();\n      addCourseApi(accessToken, courseData).then(response => {\n        const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n        notification[typeNotification]({\n          message: response.message\n        });\n        setIsVisibleModal(false);\n        setReloadCourses(true);\n        setCourseData({});\n      }).catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, intentelo más tarde.\"\n        });\n      });\n    }\n  };\n\n  const updateCourse = e => {\n    e.preventDefault();\n    const accessToken = getAccessTokenApi();\n    updateCourseApi(accessToken, course._id, courseData).then(response => {\n      const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n      notification[typeNotification]({\n        message: response.message\n      });\n      setIsVisibleModal(false);\n      setReloadCourses(true);\n      setCourseData({});\n    }).catch(() => {\n      notification[\"error\"]({\n        message: \"Error del servidor, intentelo más tarde.\"\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"add-edit-course-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68\n    },\n    __self: this\n  }, React.createElement(AddEditForm, {\n    course: course,\n    addCourse: addCourse,\n    updateCourse: updateCourse,\n    courseData: courseData,\n    setCourseData: setCourseData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }));\n}\n\nfunction AddEditForm(props) {\n  const course = props.course,\n        addCourse = props.addCourse,\n        updateCourse = props.updateCourse,\n        courseData = props.courseData,\n        setCourseData = props.setCourseData;\n  return React.createElement(Form, {\n    className: \"form-add-edit\",\n    onSubmit: course ? updateCourse : addCourse,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }),\n    placeholder: \"ID del curso\",\n    value: courseData.idCourse,\n    onChange: e => setCourseData(_objectSpread({}, courseData, {\n      idCourse: e.target.value\n    })),\n    disabled: course ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }),\n    placeholder: \"Url del curso\",\n    value: courseData.link,\n    onChange: e => setCourseData(_objectSpread({}, courseData, {\n      link: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"gift\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }),\n    placeholder: \"Cupon de descuento\",\n    value: courseData.coupon,\n    onChange: e => setCourseData(_objectSpread({}, courseData, {\n      coupon: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"dollar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }),\n    placeholder: \"Precio del curso\",\n    value: courseData.price,\n    onChange: e => setCourseData(_objectSpread({}, courseData, {\n      price: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }, course ? \"Actualizar curso\" : \"Crear curso\")));\n}","map":{"version":3,"sources":["/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/Courses/AddEditCourseForm/AddEditCourseForm.js"],"names":["React","useState","useEffect","Form","Icon","Input","Button","notification","getAccessTokenApi","addCourseApi","updateCourseApi","AddEditCourseForm","props","setIsVisibleModal","setReloadCourses","course","courseData","setCourseData","addCourse","e","preventDefault","idCourse","message","accessToken","then","response","typeNotification","code","catch","updateCourse","_id","AddEditForm","target","value","link","coupon","price"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Form, Icon, Input, Button, notification } from \"antd\";\nimport { getAccessTokenApi } from \"../../../../api/auth\";\nimport { addCourseApi, updateCourseApi } from \"../../../../api/course\";\n\nimport \"./AddEditCourseForm.scss\";\n\nexport default function AddEditCourseForm(props) {\n  const { setIsVisibleModal, setReloadCourses, course } = props;\n  const [courseData, setCourseData] = useState({});\n\n  useEffect(() => {\n    course ? setCourseData(course) : setCourseData({});\n  }, [course]);\n\n  const addCourse = e => {\n    e.preventDefault();\n\n    if (!courseData.idCourse) {\n      notification[\"error\"]({\n        message: \"El id del curso es obligatorio\"\n      });\n    } else {\n      const accessToken = getAccessTokenApi();\n\n      addCourseApi(accessToken, courseData)\n        .then(response => {\n          const typeNotification =\n            response.code === 200 ? \"success\" : \"warning\";\n          notification[typeNotification]({\n            message: response.message\n          });\n          setIsVisibleModal(false);\n          setReloadCourses(true);\n          setCourseData({});\n        })\n        .catch(() => {\n          notification[\"error\"]({\n            message: \"Error del servidor, intentelo más tarde.\"\n          });\n        });\n    }\n  };\n\n  const updateCourse = e => {\n    e.preventDefault();\n\n    const accessToken = getAccessTokenApi();\n\n    updateCourseApi(accessToken, course._id, courseData)\n      .then(response => {\n        const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n        notification[typeNotification]({\n          message: response.message\n        });\n        setIsVisibleModal(false);\n        setReloadCourses(true);\n        setCourseData({});\n      })\n      .catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, intentelo más tarde.\"\n        });\n      });\n  };\n\n  return (\n    <div className=\"add-edit-course-form\">\n      <AddEditForm\n        course={course}\n        addCourse={addCourse}\n        updateCourse={updateCourse}\n        courseData={courseData}\n        setCourseData={setCourseData}\n      />\n    </div>\n  );\n}\n\nfunction AddEditForm(props) {\n  const { course, addCourse, updateCourse, courseData, setCourseData } = props;\n\n  return (\n    <Form\n      className=\"form-add-edit\"\n      onSubmit={course ? updateCourse : addCourse}\n    >\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"key\" />}\n          placeholder=\"ID del curso\"\n          value={courseData.idCourse}\n          onChange={e =>\n            setCourseData({ ...courseData, idCourse: e.target.value })\n          }\n          disabled={course ? true : false}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"link\" />}\n          placeholder=\"Url del curso\"\n          value={courseData.link}\n          onChange={e => setCourseData({ ...courseData, link: e.target.value })}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"gift\" />}\n          placeholder=\"Cupon de descuento\"\n          value={courseData.coupon}\n          onChange={e =>\n            setCourseData({ ...courseData, coupon: e.target.value })\n          }\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"dollar\" />}\n          placeholder=\"Precio del curso\"\n          value={courseData.price}\n          onChange={e =>\n            setCourseData({ ...courseData, price: e.target.value })\n          }\n        />\n      </Form.Item>\n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"btn-submit\">\n          {course ? \"Actualizar curso\" : \"Crear curso\"}\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}