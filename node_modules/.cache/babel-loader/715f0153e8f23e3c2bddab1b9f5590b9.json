{"ast":null,"code":"import _objectSpread from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/Stock/AddEditProductForm/AddEditProductForm.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Form, Icon, Input, Button, notification, message } from \"antd\";\nimport { addStockApi, updateStockApi } from \"../../../../api/stock\";\nimport \"./AddEditProductForm.scss\";\nexport default function AddEditProductForm(props) {\n  const setIsVisibleModal = props.setIsVisibleModal,\n        setReloadStocks = props.setReloadStocks,\n        stock = props.stock;\n\n  const _useState = useState({}),\n        _useState2 = _slicedToArray(_useState, 2),\n        stockData = _useState2[0],\n        setStockData = _useState2[1];\n\n  useEffect(() => {\n    stock ? setStockData(stock) : setStockData({});\n  }, [stock]);\n\n  const addStock = e => {\n    e.preventDefault();\n\n    if (!stockData.id) {\n      notification[\"error\"]({\n        message: \"El id del producto es obligatorio\"\n      });\n    } else {\n      addStockApi(stockData).then(response => {\n        const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n        notification[typeNotification]({\n          message: response.message\n        });\n        setIsVisibleModal(false);\n        setProductData({});\n        setReloadProducts();\n        setReloadProducts(true);\n      }).catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, intentelo más tarde.\"\n        });\n      });\n    }\n  };\n\n  const updateStock = e => {\n    e.preventDefault();\n    updateProductApi(product.id, productData).then(response => {\n      const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n      notification[typeNotification]({\n        message: response.message\n      });\n      console.log(response);\n      setIsVisibleModal(false);\n      setProductData({});\n      setReloadProducts(true);\n    }).catch(() => {\n      notification[\"error\"]({\n        message: \"Error del servidor, intentelo más tarde.\"\n      });\n    });\n  };\n\n  return React.createElement(\"div\", {\n    className: \"add-edit-course-form\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, React.createElement(AddEditForm, {\n    stock: stock,\n    addStock: addStock,\n    updateStock: updateStock,\n    stockData: stockData,\n    setStockData: setStockData,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }));\n}\n\nfunction AddEditForm(props) {\n  const stock = props.stock,\n        addStock = props.addStock,\n        updateStock = props.updateStock,\n        stockData = props.stockData,\n        setStockData = props.setStockData;\n  return React.createElement(Form, {\n    className: \"form-add-edit\",\n    onSubmit: stock ? updateStock : addStock,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86\n    },\n    __self: this\n  }, React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }),\n    placeholder: \"Cantidad\",\n    value: stockData.quantity,\n    onChange: e => setStockData(_objectSpread({}, stockData, {\n      quantity: e.target.value\n    })),\n    disabled: stock ? true : false,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }),\n    placeholder: \"Cantidad disponible\",\n    value: stockData.quantityAvailable,\n    onChange: e => setStockData(_objectSpread({}, stockData, {\n      quantityAvailable: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(Input, {\n    prefix: React.createElement(Icon, {\n      type: \"key\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }),\n    placeholder: \"Variant\",\n    value: stockData.variant,\n    onChange: e => setStockData(_objectSpread({}, stockData, {\n      variant: e.target.value\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  })), React.createElement(Form.Item, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }, React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    className: \"btn-submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, stock ? \"Actualizar producto\" : \"Crear producto\")));\n}","map":{"version":3,"sources":["/Users/jnanaure87/Desktop/Web_Personal_IC_ConBsaleProductos/web-personal-client-master/src/components/Admin/Stock/AddEditProductForm/AddEditProductForm.js"],"names":["React","useState","useEffect","Form","Icon","Input","Button","notification","message","addStockApi","updateStockApi","AddEditProductForm","props","setIsVisibleModal","setReloadStocks","stock","stockData","setStockData","addStock","e","preventDefault","id","then","response","typeNotification","code","setProductData","setReloadProducts","catch","updateStock","updateProductApi","product","productData","console","log","AddEditForm","quantity","target","value","quantityAvailable","variant"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Form, Icon, Input, Button, notification, message } from \"antd\";\n\nimport { addStockApi, updateStockApi } from \"../../../../api/stock\";\n\nimport \"./AddEditProductForm.scss\";\n\nexport default function AddEditProductForm(props) {\n  const { setIsVisibleModal, setReloadStocks, stock } = props;\n  const [stockData, setStockData] = useState({});\n\n  useEffect(() => {\n    stock ? setStockData(stock) : setStockData({});\n  }, [stock]);\n\n  const addStock= e => {\n    e.preventDefault();\n\n    if (!stockData.id) {\n      notification[\"error\"]({\n        message: \"El id del producto es obligatorio\"\n      });\n    } else {\n      addStockApi(stockData)\n        .then(response => {\n    const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n          notification[typeNotification]({\n            message: response.message\n          });\n          setIsVisibleModal(false);\n          setProductData({});\n          setReloadProducts();\n          setReloadProducts(true);\n          \n\n        })\n        .catch(() => {\n          notification[\"error\"]({\n            message: \"Error del servidor, intentelo más tarde.\"\n          });\n        });\n    }\n  };\n\n  const updateStock = e => {\n    e.preventDefault();\n\n    updateProductApi(product.id, productData)\n      .then(response => {\n       \n        const typeNotification = response.code === 200 ? \"success\" : \"warning\";\n        notification[typeNotification]({\n        \n          message: response.message\n        });\n        console.log(response);\n        setIsVisibleModal(false);\n        setProductData({});\n        setReloadProducts(true);\n       \n      })\n      .catch(() => {\n        notification[\"error\"]({\n          message: \"Error del servidor, intentelo más tarde.\"\n        });\n      });\n  };\n\n  return (\n    <div className=\"add-edit-course-form\">\n      <AddEditForm\n        stock={stock}\n        addStock={addStock}\n        updateStock={updateStock}\n        stockData={stockData}\n        setStockData={setStockData}\n      />\n    </div>\n  );\n}\n\nfunction AddEditForm(props) {\n  const { stock, addStock, updateStock, stockData, setStockData } = props;\n\n  return (\n    <Form\n      className=\"form-add-edit\"\n      onSubmit={stock ? updateStock : addStock}\n    >\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"key\" />}\n          placeholder=\"Cantidad\"\n          value={stockData.quantity}\n          onChange={e =>\n            setStockData({ ...stockData, quantity: e.target.value })\n          }\n          disabled={stock ? true : false}\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"key\" />}\n          placeholder=\"Cantidad disponible\"\n          value={stockData.quantityAvailable}\n          onChange={e =>\n            setStockData({ ...stockData, quantityAvailable: e.target.value })\n          }\n        />\n      </Form.Item>\n      <Form.Item>\n        <Input\n          prefix={<Icon type=\"key\" />}\n          placeholder=\"Variant\"\n          value={stockData.variant}\n          onChange={e =>\n            setStockData({ ...stockData, variant: e.target.value })\n          }\n        />\n      </Form.Item>\n     \n      <Form.Item>\n        <Button type=\"primary\" htmlType=\"submit\" className=\"btn-submit\">\n          {stock ? \"Actualizar producto\" : \"Crear producto\"}\n        </Button>\n      </Form.Item>\n    </Form>\n  );\n}\n\n\n"]},"metadata":{},"sourceType":"module"}